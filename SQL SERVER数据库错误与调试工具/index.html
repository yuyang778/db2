<!DOCTYPE html>
<html lang="zh-CN">
    <script src="page-protector.js"></script>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SQL SERVER数据库错误与调试工具</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <header>
        <h1>SQL SERVER数据库错误与调试工具</h1>
        <p>通过模拟常见错误场景学习SQL调试技巧</p>
    </header>

    <main>
        <section class="database-info">
            <h2>数据库表结构与数据</h2>
            <div class="table-container">
                <div class="table-selector">
                    <label for="table-select">选择表：</label>
                    <select id="table-select">
                        <option value="Users">Users（用户表）</option>
                        <option value="Products">Products（产品表）</option>
                        <option value="Orders">Orders（订单表）</option>
                        <option value="OrderDetails">OrderDetails（订单详情表）</option>
                    </select>
                    <button id="show-table">显示表数据</button>
                </div>
                <div id="table-display">
                    <p class="empty-state">选择一个表并点击"显示表数据"按钮</p>
                </div>
            </div>
        </section>

        <section class="sql-playground">
            <h2>SQL查询编辑器</h2>
            <div class="editor-container">
                <div class="editor-header">
                    <div class="scenario-selector">
                        <label for="error-scenario">选择错误场景：</label>
                        <select id="error-scenario">
                            <option value="syntax">语法错误</option>
                            <option value="datatype">数据类型不匹配</option>
                            <option value="constraint">违反约束</option>
                            <option value="tablename">表名错误</option>
                            <option value="join">JOIN错误</option>
                            <option value="connection">连接错误</option>
                            <option value="custom">自定义查询</option>
                        </select>
                    </div>
                    <button id="run-query">运行查询</button>
                </div>
                <textarea id="sql-editor" placeholder="在此输入SQL查询..."></textarea>
            </div>
        </section>

        <section class="result-section">
            <h2>查询结果</h2>
            <div class="result-container">
                <div class="result-tabs">
                    <button class="tab-btn active" data-tab="results">结果</button>
                    <button class="tab-btn" data-tab="messages">消息</button>
                </div>
                <div class="tab-content">
                    <div id="results-tab" class="tab-pane active">
                        <div id="query-results">
                            <p class="empty-state">运行查询以查看结果</p>
                        </div>
                    </div>
                    <div id="messages-tab" class="tab-pane">
                        <div id="error-messages">
                            <p class="empty-state">运行查询以查看消息</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section class="debug-helper">
            <h2>调试助手</h2>
            <div class="debug-container hidden" id="debug-container">
                <h3>错误诊断</h3>
                <div id="error-diagnosis"></div>
                
                <h3>解决方案提示</h3>
                <div id="solution-hints"></div>
                
                <h3>学习资源</h3>
                <div id="learning-resources"></div>
            </div>
        </section>
    </main>

    <footer>
        <p>SQL SERVER数据库错误与调试工具 - 用于教学目的</p>
    </footer>

    <script src="js/database.js"></script>
    <script src="js/errors.js"></script>
    <script src="js/app.js"></script>
</body>
</html> 