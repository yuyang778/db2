# 数据库原理与应用 - 教学资源网站

## 页面保护功能指南

本文档介绍了如何使用网站的页面保护功能和使用新窗口打开链接的特性。

### 一、已实现的功能

1. **所有链接使用新窗口打开**
   - 所有超链接已设置为在新窗口中打开(`target="_blank"`)
   - 这样可以保持原始页面的状态，方便用户浏览多个资源

2. **HTML页面加密保护**
   - 所有页面已添加基本的保护措施
   - 防止用户直接复制内容
   - 禁用右键菜单
   - 禁用开发者工具访问
   - 页面内容混淆保护

### 二、批量部署保护功能到所有HTML文件

我们提供了一个部署脚本，可以自动为根目录和所有子目录下的HTML文件添加保护功能。

#### 使用方法：

1. 确保系统已安装Node.js
2. 打开命令行终端，进入项目根目录
3. 运行以下命令：

```bash
node deploy-protection.js
```

这将会：
- 扫描整个项目中所有的HTML文件
- 为所有HTML文件添加保护脚本引用
- 添加`target="_blank"`到所有链接
- 复制保护脚本到所有子目录

#### 注意事项：

- 脚本会自动跳过已经包含保护功能的文件
- "返回首页"的链接不会设置为新窗口打开
- 脚本会自动计算相对路径，确保引用的路径正确

### 三、如何使用创建受保护页面的工具

我们还提供了一个脚本工具，可以快速创建具有保护功能的新HTML页面。

#### 使用方法：

1. 确保系统已安装Node.js
2. 打开命令行终端，进入项目根目录
3. 运行以下命令创建新页面：

```bash
node create-protected-page.js "页面标题" "目标目录路径"
```

例如，要创建一个"SQL高级查询"页面，存放在"sql高级查询教程"目录中：

```bash
node create-protected-page.js "SQL高级查询" "sql高级查询教程"
```

这将会：
- 在项目根目录下创建"sql高级查询教程"文件夹
- 在该文件夹中创建index.html文件
- 自动复制保护脚本到该文件夹

#### 注意事项：

- 生成的HTML页面基于template.html模板
- 页面已包含基本的样式和结构
- 您需要编辑生成的HTML文件，添加实际的教学内容

### 四、手动为现有页面添加保护功能

如果您需要手动将现有页面添加保护功能，请按照以下步骤操作：

1. 在页面的`<head>`部分添加保护脚本引用：
```html
<script src="../page-protector.js"></script>
```

2. 确保该页面所在目录中有page-protector.js文件
   - 如果没有，请从根目录复制该文件
   - 注意调整脚本路径，使其正确指向保护脚本

3. 确保所有链接都添加了`target="_blank"`属性

### 五、自定义保护级别

如果需要调整保护级别，可以编辑page-protector.js文件：

- 增加或减少保护措施
- 修改混淆算法
- 添加额外的安全验证

### 六、技术支持

如有任何问题，请联系课程负责人。 