# 关系代数交互沙盒 - 学生使用指南

欢迎使用关系代数交互沙盒！这个工具可以帮助你学习关系代数的基本概念和操作。本指南将介绍如何使用这个工具来构建和执行关系代数查询。

## 基本操作

### 1. 启动应用
在浏览器中打开 `index.html` 文件，你将看到如下几个区域：
- 数据表区域（显示可用的表和字段）
- 运算符区域（显示可用的关系代数运算符）
- 查询构建区域（用于拖放字段和运算符构建查询）
- 结果区域（显示查询的SQL等价表示、查询树和结果表）

### 2. 拖拽构建查询
- 从数据表区域拖拽字段到查询构建区域
- 从运算符区域拖拽运算符到查询构建区域
- 点击某些运算符（如选择、投影、连接）设置条件

### 3. 执行查询
- 点击"执行查询"按钮查看结果
- 如需重新开始，点击"清除"按钮

## 关系代数运算符

### σ (选择)
- 对应SQL中的 WHERE 子句
- 作用：根据条件筛选行
- 使用方法：拖拽到查询区域，然后点击设置条件（如：age > 20）

### π (投影)
- 对应SQL中的 SELECT 子句
- 作用：选择特定的列
- 使用方法：拖拽到查询区域，然后点击选择需要的字段（如：Students.name, Students.age）

### ⋈ (连接)
- 对应SQL中的 JOIN
- 作用：基于指定条件连接两个表
- 使用方法：拖拽到查询区域，然后点击设置连接条件（如：Students.id = Enrollment.student_id）

### ∪ (并集)
- 对应SQL中的 UNION
- 作用：合并两个查询的结果
- 使用方法：拖拽到查询区域

### ∩ (交集)
- 对应SQL中的 INTERSECT
- 作用：获取两个查询结果的交集
- 使用方法：拖拽到查询区域

### - (差集)
- 对应SQL中的 EXCEPT 或 MINUS
- 作用：从第一个查询结果中排除第二个查询结果
- 使用方法：拖拽到查询区域

## 示例查询

### 示例1：查找年龄大于20岁的学生
1. 拖拽选择运算符 (σ) 到查询区域
2. 点击选择运算符，设置条件为 `age > 20`
3. 拖拽 Students 表的字段到查询区域
4. 点击"执行查询"按钮

### 示例2：查询学生姓名和专业
1. 拖拽投影运算符 (π) 到查询区域
2. 点击投影运算符，设置字段为 `Students.name, Students.major`
3. 拖拽 Students 表的一个字段到查询区域
4. 点击"执行查询"按钮

### 示例3：查询选修"数据库原理"课程的学生
1. 拖拽连接运算符 (⋈) 到查询区域
2. 点击连接运算符，设置条件为 `Students.id = Enrollment.student_id`
3. 拖拽选择运算符 (σ) 到查询区域
4. 点击选择运算符，设置条件为 `Courses.name = '数据库原理' AND Enrollment.course_id = Courses.id`
5. 点击"执行查询"按钮

## 常见问题

### 问题：点击运算符后没有弹出条件设置窗口
解决方法：确保点击运算符本身，而不是删除按钮。

### 问题：查询结果为空
解决方法：
- 检查查询条件是否正确
- 确保使用了正确的表和字段
- 验证条件中的值与数据匹配（例如，使用正确的字符串引号）

### 问题：查询构建区域显示混乱
解决方法：点击"清除"按钮重新开始构建查询。

## 学习建议

1. 从简单的单表查询开始（选择和投影）
2. 熟悉单表查询后，尝试表连接
3. 理解查询树如何反映关系代数操作的执行顺序
4. 对比关系代数表达式和SQL等价表示，理解它们之间的关系

祝你学习愉快！如有任何问题，请咨询你的教师。 